<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% extends 'base.html' %}
 {% block content %}
<div class="todolist-container">
    
    <div class="header">
        <h1>{{user}}'s to do list </h1>
    </div>

    
        {% comment %} <table class="listtable">
            <thead>
                <tr>
                    <th>Completed</th>
                    <th>Task</th>
                    <th>Description</th>
                    <th>Created</th>
                    <th>Status</th>
                    <th>Delete</th>
                </tr>
            </thead> {% endcomment %}
            <div class="container d-flex flex-wrap flex-row ">
                {% for task in todolist %}
                {% comment %} <tbody> {% endcomment %}
                    {% comment %} <tr>
                        <th>
                            <input class='todolist-check' 
                                    type="checkbox" 
                                    id='{{task.id}}' 
                                    value= '{{task.ud}'
                                    name="finishbtn"
                                    {% if task.is_finished %} checked {% endif %}
                                    onchange="location.href='{% url 'todolist:mark_as_finished' task.id %}'"  
                            />                  
                            <!-- <span class="checkmark"></span> -->
                        </th>
                        <th>{{task.title}}</th>
                        <th>{{task.description}}</th>
                        <th>{{task.date}}</th>
                        {% if task.is_finished == True %}
                            <p style="text-align: center; color: greenyellow">Completed</td>
                        {% else %}
                            <td style="text-align: center; color: red">Unfinished</td>
                        {% endif %}
                        <th>
                            <button class="btn" ><a href="{% url 'todolist:delete' task.id %}"><i class="fa fa-trash"></i></a></button>
                        </th>

                    </tr> {% endcomment %}
                {% comment %} </tbody> {% endcomment %}
                <div class="m-2 card p-2">
                    <p class="text font-weight-bold">Task : {{task.title}}</p>
                    <p>Description : {{task.description}}</p>
                    <p>Created : {{task.date}}</p>
                    <p>Status : 
                        {% if task.is_finished == True %}
                            <span class= "Completed text-success">Completed</span>
                        {% else %}
                            <span class="unfinished text-danger">Unfinished</span>
                        {% endif %}
                    </p>
                    <button class="btn" ><a href="{% url 'todolist:delete' task.id %}"><i class="fa fa-trash"></i></a></button>
                    <input class='todolist-check' 
                                    type="checkbox" 
                                    id='{{task.id}}' 
                                    value= '{{task.ud}'
                                    name="finishbtn"
                                    {% if task.is_finished %} checked {% endif %}
                                    onchange="location.href='{% url 'todolist:mark_as_finished' task.id %}'" />             
                </div>
                {% endfor %}
            </div>
        {% comment %} </table> {% endcomment %}

    <p><a href="{% url 'todolist:create_task' %}">Create Task</a></p>
    <button class="btn-logout"><a href="{% url 'todolist:logout' %}">Logout</a></button>
</div>

{% endblock content %}
